<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             xmlns:prism="clr-namespace:Prism.Mvvm;assembly=Prism.Forms"
             prism:ViewModelLocator.AutowireViewModel="True"
             xmlns:ff="clr-namespace:FFImageLoading.Forms;assembly=FFImageLoading.Forms"
             NavigationPage.HasNavigationBar="False"
             xmlns:converters="clr-namespace:Makedox2019.Converters"
             x:Class="Makedox2019.Pages.EventDetailsPage">
    <ContentPage.Resources>
        <ResourceDictionary>
            <converters:Base64Converter x:Key="Base64ToImageConverter" />
            <converters:HideEmptyElementsConverter x:Key="hideConverter" />
        </ResourceDictionary>
    </ContentPage.Resources>
        <ScrollView Padding="20, 0">
            <StackLayout Spacing="10">
                <ff:CachedImage  Source="{Binding Model.CoverImage}" Aspect="AspectFill" VerticalOptions="CenterAndExpand" HorizontalOptions="FillAndExpand"  HeightRequest="400" />
                <Label Text="{Binding Model.Title}" TextColor="#640d20" VerticalTextAlignment="Center" HorizontalTextAlignment="Center" HorizontalOptions="CenterAndExpand" FontAttributes="Bold" />
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="10" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <ContentView BackgroundColor="#640d20" Grid.Column="0" />
                    <StackLayout Grid.Column="1">
                    <Label IsVisible="{Binding Model.Subtitle, Converter={StaticResource hideConverter}}" Text="{Binding Model.Subtitle}" FontAttributes="Bold" />
                    <Label Text="{Binding Model.StartTime, StringFormat='{0:D}'}" />
                    <Label Text="{Binding Model.StartTime, StringFormat='{0:t}'}" />
                    <Label IsVisible="{Binding Model.Location, Converter={StaticResource hideConverter}}" Text="{Binding Model.Location}" />
                    </StackLayout>
                </Grid>
            <Grid IsVisible="{Binding ItemVisibility}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="4*"  />
                        <ColumnDefinition Width="6*" />
                    </Grid.ColumnDefinitions>
                    <StackLayout Grid.Column="0">
                    <Label IsVisible="{Binding Model.Team.Script, Converter={StaticResource hideConverter}}" Text="Script:" FontAttributes="Bold" FontSize="Small"/>
                    <Label IsVisible="{Binding Model.Team.Director, Converter={StaticResource hideConverter}}" Text="Director:" FontAttributes="Bold" FontSize="Small"/>
                    <Label IsVisible="{Binding Model.Team.Photography, Converter={StaticResource hideConverter}}" Text="Photography by:" FontAttributes="Bold" FontSize="Small"/>
                    <Label IsVisible="{Binding Model.Team.Editing, Converter={StaticResource hideConverter}}" Text="Editing:" FontAttributes="Bold" FontSize="Small" />
                    <Label IsVisible="{Binding Model.Team.Sound, Converter={StaticResource hideConverter}}" Text="Sound:" FontAttributes="Bold" FontSize="Small"/>
                    <Label IsVisible="{Binding Model.Team.Production, Converter={StaticResource hideConverter}}" Text="Production:" FontAttributes="Bold" FontSize="Small" />
                    <Label IsVisible="{Binding Model.Team.Coproduction, Converter={StaticResource hideConverter}}" Text="Co-Production:" FontAttributes="Bold" FontSize="Small"/>
                    <Label IsVisible="{Binding Model.Team.Animation, Converter={StaticResource hideConverter}}" Text="Animation:" FontAttributes="Bold" FontSize="Small" />
                    </StackLayout>
                    <StackLayout Grid.Column="1">
                    <Label IsVisible="{Binding Model.Team.Script, Converter={StaticResource hideConverter}}" Text="{Binding Model.Team.Script}" FontAttributes="Bold" FontSize="Small"/>
                    <Label IsVisible="{Binding Model.Team.Director, Converter={StaticResource hideConverter}}" Text="{Binding Model.Team.Director}" FontAttributes="Bold" FontSize="Small"/>
                    <Label IsVisible="{Binding Model.Team.Photography, Converter={StaticResource hideConverter}}" Text="{Binding Model.Team.Photography}" FontAttributes="Bold" FontSize="Small"/>
                    <Label IsVisible="{Binding Model.Team.Editing, Converter={StaticResource hideConverter}}" Text="{Binding Model.Team.Editing}" FontAttributes="Bold" FontSize="Small"/>
                    <Label IsVisible="{Binding Model.Team.Sound, Converter={StaticResource hideConverter}}" Text="{Binding Model.Team.Sound}" FontAttributes="Bold" FontSize="Small" />
                    <Label IsVisible="{Binding Model.Team.Production, Converter={StaticResource hideConverter}}" Text="{Binding Model.Team.Production}" FontAttributes="Bold" FontSize="Small"/>
                    <Label IsVisible="{Binding Model.Team.Coproduction, Converter={StaticResource hideConverter}}" Text="{Binding Model.Team.Coproduction}" FontAttributes="Bold" FontSize="Small"/>
                    <Label IsVisible="{Binding Model.Team.Animation, Converter={StaticResource hideConverter}}" Text="{Binding Model.Team.Animation}" FontAttributes="Bold" FontSize="Small" />
                    </StackLayout>
                </Grid>
            <Label IsVisible="{Binding Model.Description, Converter={StaticResource hideConverter}}" Text="{Binding Model.Description}" />
            <Label Text="{Binding Model.OneLiner}" IsVisible="{Binding OneLinerVisibility}"/>
        </StackLayout>
        </ScrollView>
</ContentPage>